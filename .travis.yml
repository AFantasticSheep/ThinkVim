language: vim

sudo: true

python:
  - "3.7"

addons:
  apt:
    packages:
      - "python3"
      - "python3-pip"

before_install:
  - |
    echo 'Add neovim PPA.'
    if [[ `lsb_release -r | awk '{print $2}'` < 16.04 ]]; then
      echo "Using neovim-ppa/unstable for Ubuntu version older than 16.04."
      sudo add-apt-repository ppa:neovim-ppa/unstable -y
    else
      echo "Using neovim-ppa/stable for Ubuntu version 16.04 or newer."
      sudo add-apt-repository ppa:neovim-ppa/stable   -y
    fi
  - sudo apt-get update  -q
  - |
    echo 'Install foreign language packs for international tests.'
    sudo apt-get install -y language-pack-de language-pack-es
  - |
    echo 'Install neovim.'
    sudo apt-get install -y neovim
    nvim --version
  - |
    echo 'Clone dependencies.'
    mkdir -p ~/.config/nvim
    git clone --depth=1  https://github.com/hardcoreplayers/ThinkVim ~/.config/nvim

install:
    - nvim

notifications:
  email: false
